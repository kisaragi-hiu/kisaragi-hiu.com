<!-- <head> content without the head tag themselves so a page can still specify
     it.

     Why? This allows some pages to completely escape the main layouts. -->

{{ $title := .Title }}
{{ if .IsHome }}
  {{ $title = "Kisaragi Hiu's home page" }}
{{ end }}
<meta charset="utf-8" />
<meta http-equiv="x-ua-compatible" content="ie=edge" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, shrink-to-fit=no"
/>
<title>
  {{ block "title" . }}
    {{ if .IsHome }}
      {{ $title }}
    {{ else }}
      {{ $title }} - Kisaragi Hiu
    {{ end }}
  {{ end }}
</title>
<!-- these should not have the suffix -->
<meta property="og:title" content="{{ $title }}" />
<meta name="twitter:title" content="{{ $title }}" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@kisaragi_hiu" />
<!-- A description is not required. -->
{{ with .Params.description }}
  <meta name="description" content="{{ . }}" />
  <meta name="twitter:description" content="{{ . }}" />
  <meta property="og:description" content="{{ . }}" />
{{ end }}
{{ with .Params.coverimage }}
  <meta name="twitter:image" content="{{ (absURL .) }}" />
  <meta property="og:image" content="{{ (absURL .) }}" />
{{ end }}


<!-- I'll figure out a way to tell Open Graph the type of a page later. -->
{{ $type := (partial "func-page-type" .) }}
<meta property="og:type" content="{{ $type }}" />
{{ if (eq $type "article") }}
  {{ with .Date }}
    <meta property="article:published_time" content="{{ . }}" />
  {{ end }}
  {{ with .Lastmod }}
    <meta property="article:modified_time" content="{{ . }}" />
  {{ end }}
  {{ with .ExpiryDate }}
    <meta property="article:expiration_time" content="{{ . }}" />
  {{ end }}
{{ end }}
<meta property="og:sitename" content="Kisaragi Hiu" />
<meta name="author" content="Kisaragi Hiu" />
<meta property="og:author" content="Kisaragi Hiu" />
<meta name="keywords" content="Coding, Programming, Language, LGBT, Blog" />
<link rel="icon" href="/favicon.png" />
<meta property="og:url" content="{{ .Permalink | absURL }}" />
<link rel="canonical" href="{{ .Permalink | absURL }}" />
<link rel="stylesheet" href="/css/built.css" />
<link rel="stylesheet" href="/storage/Equity/equity.css" />
<link
  href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;600;700&family=Inconsolata&display=swap"
  rel="stylesheet"
/>
<!-- Fathom Analytics -->
<script>
  let dnt = navigator.doNotTrack || navigator.msDoNotTrack || null;
  if (dnt !== "yes" && dnt !== "1") {
    (function (f, a, t, h, o, m) {
      a[h] =
        a[h] ||
        function () {
          (a[h].q = a[h].q || []).push(arguments);
        };
      (o = f.createElement("script")),
        (m = f.getElementsByTagName("script")[0]);
      o.async = 1;
      o.src = t;
      o.id = "fathom-script";
      m.parentNode.insertBefore(o, m);
    })(document, window, "//fathom.kisaragi-hiu.com/tracker.js", "fathom");
    fathom("set", "siteId", "FYSHR");
    fathom("trackPageview");
  }
</script>
