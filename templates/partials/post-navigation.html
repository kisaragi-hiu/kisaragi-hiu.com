<!-- Yes, this is how you do AND in a where query. Generate two lists and use intersect.
     https://gohugo.io/functions/intersect/ -->

<!-- (--filter (equal (section it) (section this-page)) (all-pages)) -->
{{ $same_section := where .Site.Pages "Section" .Section }}
<!-- (--filter (equal (kind it) "page") (all-pages)) -->
{{ $singles := where .Site.Pages "Kind" "page" }} {{ $pages := (intersect
$singles $same_section) }}

<div class="flex my-4 gap-x-12 justify-between w-full">
  <div class="w-1/2">
    {{ with $pages.Next . }} {{ partial "index-item" . }} {{ else }}
    <a href="/">◁ Home</a>
    {{ end }}
  </div>
  <div class="w-1/2 text-right">
    {{ with $pages.Prev . }} {{ partial "index-item" . }} {{ else }}
    <span class="opacity-40">▷</span>
    {{ end }}
  </div>
</div>
