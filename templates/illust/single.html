{{ define "header" }}
<!-- prettier-ignore -->
{{ partial "avatar" }}
{{ end }}
{{ define "main" }}

<!-- We assume that the filename is the publish date. -->

<div class="mt-8 lg:flex lg:gap-4 lg:overflow-x-auto lg:w-max">
<figure class="illust">
  <img
    src="/illust/{{ .File.BaseFileName }}.jpg"
    {{ with .Params.alt }} alt="{{.}}" {{ end }}
    title="{{ .Title }}"
    class="mb-4 shadow lg:max-w-[60ch]"
  />
  <figcaption>
    {{ with .GetTerms "tags" }}
      {{ range . }}
      {{ partial "tag" . }}
      {{ end }}
    {{ end }}
    <h1 class="text-xl mt-0">{{ .Title }}</h1>
  </figcaption>
</figure>
<div>
<!-- prettier-ignore -->

{{ with .Params.pixiv }}
  <a href="{{.}}" class="text-sm out text-accent-strong">{{.}}</a>
{{ end }}
<dl class="meta">
  <div>
    <dt>Published</dt>
    <dd>{{ partial "date" .Params.date }}</dd>
  </div>
</dl>

<!-- prettier-ignore -->
{{ if .Params.toc }}
{{ partial "toc" . }}
{{ end }}

<div class="lg:max-w-[25vw]">
{{ partial "content" . }}
</div>
</div>
</div>

{{ end }}

{{ define "footer" }}
<!-- nothing; without this comment hugo uses the default value in baseof.html -->
{{ end }}
