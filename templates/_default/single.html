{{ define "header" }}
  {{ partial "avatar" . }}
  {{ if not (.Param "hidetitle") }}
    {{ partial "heading"
      (dict
      "title" .Title
      "enableTypePath" true
      "ctx" .)
    }}
  {{ end }}
  {{ with (and (not (.Param "special")) .Date) }}
    <div class="-mt-4">{{ partial "date" . }}</div>
  {{ end }}
  <!-- prettier-ignore -->
  {{ with .Param "subtitle" }}
<h2 class="mt-0 mb-8">{{.}}</h2>
{{ end }}
  <!-- prettier-ignore -->
  {{ if (or (.GetTerms "tags") (.GetTerms "series")) }}
<div class="meta mb-4">
  <!-- prettier-ignore -->
  {{ range (.GetTerms "tags") }}
    {{ partial "tag" . }}
  {{ end }}
  {{ range (.GetTerms "series") }}
    {{ partial "series" . }}
  {{ end }}
</div>
{{ end }}
  <!-- prettier-ignore -->
{{ end }}

{{ define "main" }}
  <!-- prettier-ignore -->
  {{ if .Params.toc }}
{{ partial "toc" . }}
{{ end }}

{{ partial "content" . }}
{{ end }}

{{ define "footer" }}
  <div class="mt-4 mb-20">
    <hr class="mb-4" />
    {{ if not (.Param "special") }}
      {{ partial "post-navigation" . }}
    {{ end }}
    {{ partial "default-footer" . }}

    <hr />
    <script
      src="https://utteranc.es/client.js"
      repo="kisaragi-hiu/kisaragi-hiu.com"
      issue-term="pathname"
      label="comments"
      theme="preferred-color-scheme"
      crossorigin="anonymous"
      async
    ></script>
  </div>
{{ end }}
